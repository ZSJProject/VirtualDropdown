window.VSDropdown=function(e){var t={};function o(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=5)}([function(e,t){e.exports='<div class="vs-dropdown" ng-click="$event.stopPropagation()" off-click="vdCtrl.closeAll()" off-click-if="vdCtrl.showSelector || vdCtrl.showOverlay"><div class="vd-selection-group"><div class="vd-overlay-wrap" ng-if="vdCtrl.showOverlay &amp;&amp; selectedItems.length &gt; 0"><div class="vd-overlay"><div class="vd-overlay-title"><span class="vd-overlay-title-text" ng-click="vdCtrl.toggleSelector()">{{vdCtrl.options.view.overlayText}}</span></div><div class="vd-items" vs-repeat="{{vdCtrl.options.itemHeight}}"><div class="vd-item vd-selected-item vd-selected-item-color" ng-click="$event.stopPropagation()" ng-repeat="item in selectedItems track by $index"><div class="vd-item-content"><div class="vd-properties-btn" ng-if="vdCtrl.isObject(item)"><span class="icon vd-icon-properties" ng-class="vsddPopoverCtrl.popover !== null ? &quot;icon-down&quot; : &quot;icon-right&quot;" ng-click="vsddPopoverCtrl.showProperties($event)" ng-keydown="$event.which === 13 ? vsddPopoverCtrl.showProperties($event) : null" vd-popover=""></span></div><div class="vd-item-text-wrap"><div class="vd-item-text">{{vdCtrl.getPropertyValue(vdCtrl.visiblePropName, item)}}</div><div class="vd-delete-btn" ng-click="vdCtrl.removeItem($index, $event)"><span svg-kit="GENERAL_NEGATIVE" w="1rem" h="1rem"></span></div></div></div></div></div></div></div><div class="vd-selection" ng-show="!vdCtrl.showOverlay" ng-click="vdCtrl.toggleSelector()" ng-bind-html="vdCtrl.getSelectText(selectedItems)"></div><button class="vd-btn-selections" ng-click="selectedItems.length &gt; 0 &amp;&amp; vdCtrl.toggleOverlay()"><span class="vd-selection-count vd-counter">{{selectedItems.length || \'0\'}}</span></button></div><div class="vd-selector" ng-show="vdCtrl.showSelector"><div class="vd-filter-group" ng-class="vdCtrl.filterdItems.length ? &quot;vs-hits-filter&quot; : &quot;vs-nohits-filter&quot;" ng-show="vdCtrl.options.filter.enabled"><input class="vd-filter-input" kr-input="filterText" type="text" placeholder="{{vdCtrl.options.filter.filterPlaceholderTxt}}"/><div class="vd-filter-match"><span class="vd-filter-match-text vd-counter">{{vdCtrl.filterdItems.length || \'0\'}}</span></div><div class="vd-icon-filter-clear" ng-show="filterText.length &gt; 0"><span class="icon vd-icon-clear icon-clear" ng-click="clearFilter()" ng-keydown="$event.which === 13 ? clearFilter() : null" tabindex="0"></span></div></div><ul class="vd-items" vs-repeat="{{vdCtrl.options.itemHeight}}"><li class="vd-item" ng-class="{&quot;vd-selected&quot; : vdCtrl.isItemSelected(item)}" ng-click="vdCtrl.itemClicked(item, $index, $event)" ng-repeat="item in vdCtrl.filterdItems track by $index"><div class="vd-item-content"><div class="vd-properties-btn" ng-if="vdCtrl.isObject(item)"><span class="icon vd-icon-properties" ng-class="vsddPopoverCtrl.popover !== null ? &quot;icon-down&quot; : &quot;icon-right&quot;" ng-click="vsddPopoverCtrl.showProperties($event)" ng-keydown="$event.which === 13 ? vsddPopoverCtrl.showProperties($event) : null" vd-popover=""></span></div><div class="vd-item-text-wrap"><div class="vd-item-text">{{vdCtrl.getPropertyValue(vdCtrl.visiblePropName, item)}}</div></div></div></li></ul></div></div>'},function(e,t,o){e.exports=["$parse","throttle",function(e,t){return{restrict:"EA",require:["^vsDropdown"],template:o(0),scope:{selectedItems:"=",options:"="},controllerAs:"vdCtrl",link:function(o,i,r,l){var n=l[0]||{},s=i[0].querySelector(".vd-items");function c(){if(!(o.selectedItems&&o.selectedItems instanceof Array)){var t=e(r.selectedItems),i=t.assign,l=t(o.$parent);l&&l instanceof Array||i(o.$parent,o.selectedItems?[o.selectedItems]:[])}}c(),n.applyItems(r.items),o.filterText="",o.$watch("filterText",t(function(){n.filtering(),s&&(s.scrollTop=0)},30)),o.$watch("selectedItems",c),o.$watch("options",n.applyOptions),r.$observe("items",n.applyItems),r.$observe("placeholder",function(e){e&&(n.placeholder=e)})},controller:["$scope","$filter","vdConfig",function(t,o,i){var r,l,n=this;function s(e,o){n.options&&"function"==typeof n.options.itemSelectCb&&n.options.itemSelectCb(t.selectedItems,e,o)}this.options={},this.filterdItems=[],this.showOverlay=!1,this.showSelector=!1,Object.defineProperties(this,{items:{get:function(){return r?r(t.$parent):[]}},visiblePropName:{get:function(){return this.options&&this.options.visiblePropName}}}),Object.assign(this,{applyItems:function(t){t&&(r=e(t))},applyOptions:function(e){if("object"==typeof e){n.options=Object.assign({},i.BASIC_OPTION,e||{});var t=parseInt(n.options.itemHeight);multiple=parseInt(n.options.multiple),isNaN(multiple)||multiple<1?n.options.multiple=1:n.options.multiple=multiple,isNaN(t)||t<16?n.options.itemHeight=16:n.options.itemHeight=t,n.options.view=Object.assign({},i.BASIC_VIEW,n.options.view||{}),n.options.filter=Object.assign({},i.BASIC_FILTER,n.options.filter||{})}},isObject:function(e){return"object"==typeof e},closeAll:function(){n.showOverlay=!1,n.showSelector=!1},toggleSelector:function(e){null!=e?n.showOverlay=e:n.showSelector=!n.showSelector,n.showSelector&&n.showOverlay&&(n.showOverlay=!1)},toggleOverlay:function(e){n.showOverlay=null!=e?e:!n.showOverlay,n.showOverlay&&n.showSelector&&(n.showSelector=!1)},itemClicked:function(e,t,o){var i=n.IndexofItemSelected(e),r=n.options||{multiple:1};-1===i?n.addItem(e,o):n.removeItem(i,o),1===r.multiple&&(n.showSelector=!1)},addItem:function(e,o){o&&o.stopPropagation();var r=n.options||{multiple:1},l=t.selectedItems;r.multiple>1?(l.length===r.multiple&&n.removeItem(l.length-1,o),l.push(e)):l[0]=e,s(e,i.OPERATION_ADD)},removeItem:function(e,o){o.stopPropagation();var r=t.selectedItems,l=r[e];1===r.length&&n.toggleOverlay(!1),r.splice(e,1),s(l,i.OPERATION_DEL)},isItemSelected:function(e){return-1!==n.IndexofItemSelected(e)},IndexofItemSelected:function(e){var o=n.options,i=t.selectedItems;if("object"==typeof e){var r=o.objectCompare;if("function"==typeof r){for(var l=0;l<i.length;l++)if(r(i[l],e))return l;return-1}}return t.selectedItems.indexOf(e)},getPropertyValue:function(e,t){var o,r="object"==typeof t;return n.options&&"function"==typeof n.options.makeItemText?o=n.options.makeItemText(t):null==e?o=t:r&&(o=-1===e.indexOf(i.DOT_SEPARATOR)?t[e]:function(e,t){var o=e.split(i.DOT_SEPARATOR),r=angular.copy(t);return angular.forEach(o,function(e){r=r[e]}),r}(e,t)),o||"알 수 없음"},getViewProperties:function(e){return n.options.view.properties||Object.keys(e)},getSelectText:function(e){return(n.options&&"function"==typeof n.options.makeSelectText?n.options.makeSelectText(e):e[0]?n.getPropertyValue(n.visiblePropName,e[0]):n.placeholder)||"아이템 선택"},filtering:function(){var e=t.filterText,i=o("filter");if(l!==e)return n.items,"string"==typeof e&&e.length?(n.options&&"function"==typeof n.options.filtering&&(i=n.options.filtering),n.filterdItems=i(n.items,e)):n.filterdItems=n.items;return n.filterdItems},clearFilter:function(){t.filterText=""}})}]}}]},function(e,t){e.exports='<div class="vd-popover"><table class="vd-properties" ng-click="vdPopoverCtrl.closeProperties($event);"><tr><th>{{vdCtrl.options.view.propertyTitle}}</th><th>{{vdCtrl.options.view.valueTitle}}</th></tr><tr ng-repeat="property in vdCtrl.getViewProperties() track by $index"><td>{{property}}</td><td>{{vdCtrl.getPropertyValue(property, item)}}</td></tr></table></div>'},function(e,t,o){e.exports=["$compile",function(e){return{restrict:"A",scope:!1,controllerAs:"vdPopoverCtrl",controller:["$scope","$compile","vdConfig",function(e,t,i){var r=this;this.popover=null,this.options={},this.showProperties=function(i){i&&i.stopPropagation(),angular.equals(this.popover,null)?(this.popover=angular.element(o(2)),element.append(t(this.popover)(e))):this.closeProperties()},this.closeProperties=function(e){e&&e.stopPropagation(),angular.equals(this.popover,null)||(this.popover.remove(),this.popover=null)},e.$on(i.OPTION_UPDATE_EVENT,function(e){r.options=e.input&&e.input.properties||{}})}]}}]},function(e,t){e.exports={LIST_FOCUS_EVENT:"vsdropdown.listFocusEvent",OPTION_UPDATE_EVENT:"vsdropdown.listFocusEvent",OPERATION_ADD:"add",OPERATION_DEL:"del",DOT_SEPARATOR:".",BASIC_OPTION:{itemHeight:24,multiple:10,showCount:!0},BASIC_VIEW:{overlayText:"선택된 아이템",propertyTitle:"속성",valueTitle:"값"},BASIC_FILTER:{enabled:!0,filterPlaceholderTxt:"필터"}}},function(e,t,o){angular.module("vsdropdown",[]).constant("vdConfig",o(4)).directive("vdPopover",o(3)).directive("vsDropdown",o(1))}]);